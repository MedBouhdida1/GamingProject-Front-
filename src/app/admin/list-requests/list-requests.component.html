<app-sidebar></app-sidebar>

<section class="page-container">
    <div class="page-content-wrapper">
        <!--Header Fixed-->
        <div class="header fixed-header">
            <div class="container-fluid" style="padding: 10px 25px">
                <div class="row">
                    <div class="col-9 col-md-6 d-lg-none">
                        <a id="toggle-navigation" href="javascript:void(0);" class="icon-btn mr-3"><i
                                class="fa fa-bars"></i></a>
                        <span class="logo">WOW - Admin</span>
                    </div>
                    <div class="col-lg-8 d-none d-lg-block">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="index-2.html">Dashboard</a></li>
                            <li class="breadcrumb-item active">Requests List</li>
                        </ol>
                    </div>
                    <div class="col-3 col-md-6 col-lg-4">
                        <a href="javascript:void(0);" class="btn btn-primary btn-round pull-right d-none d-md-block">Buy
                            Theme Now</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="content sm-gutter">
            <div class="container-fluid padding-25 sm-padding-10">
                <div class="row">
                    <div class="col-12">
                        <div class="section-title">
                            <h4>Requests List</h4>
                        </div>
                    </div>


                    <div class="col-12">
                        <div class="block table-block mb-4">


                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Client Name</th>
                                            <th>Game</th>
                                            <th>Discord ID</th>
                                            <th>Team</th>
                                            <th>ID In Game</th>
                                            <th>Rank In Game</th>
                                            <th>Location</th>
                                            <th>Etat</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let demande of demandesList">
                                            <td *ngIf="demande.coachId==null;else co">{{demande.client!.firstName}}
                                                {{demande.client!.lastName}}</td>
                                            <ng-template #co>{{demande.coach!.firstName}}
                                                {{demande.coach!.lastName}}</ng-template>
                                            <td>{{demande.game}}</td>
                                            <td>{{demande.discordId}}</td>
                                            <td>{{demande.team}}</td>
                                            <td>{{demande.idInGame}}</td>
                                            <td>{{demande.rankInGame}}</td>
                                            <td>{{demande.location}}</td>
                                            <td *ngIf="demande.etat==0;else success"
                                                class="badge badge-pill bg-warning">Pending</td>
                                            <ng-template #success>
                                                <td class="badge badge-pill bg-success">Accepted</td>
                                            </ng-template>
                                            <td> <button *ngIf="demande.etat==0" (click)="AcceptDemande(demande)">
                                                    <i class="fi-check"></i></button>
                                                <button (click)="DeleteDemande(demande.id!)"> <i
                                                        class="fi-trash"></i></button>
                                            </td>
                                        </tr>

                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>





                </div>
            </div>
        </div>
    </div>

</section>